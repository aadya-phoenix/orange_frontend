<div id="right-panel" class="right-panel">
    <app-header></app-header>
    <div class="breadcrumbs cm_breadcums">
      <div class="col-sm-7">
        <div class="page-header float-left">
          <div class="page-title d-flex align-items-center">
            <img src="../../../../assets/images/second.jpg" class="home_Css_img" />
            <div class="d-flex flex-column ml-3">
              <span class="breade_text_span1">Gold tool Request</span>
              <span class="divider"></span>
              <span class="breade_text_span">{{lableConstant.request_create_session}}</span>
            </div>
          </div>
        </div>
      </div>
  
      <div class="col-sm-5 float-right">
        <div class="page-header float-right">
          <div class="page-title d-flex end_just">
            <ol class="breadcrumb text-right">
              <li>
                <a href="# " class="text_white">
                  <i class="fa fa-home"></i>
                </a>
              </li>
              <li>
                <a [routerLink]="['/dashboard']" class="text_white">{{lableConstant.dashboard}}</a>
              </li>
              <li>
                <a class="text_white">Create new Session</a>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <!-- Button trigger modal -->
    <div class="content mt-2">
      <div class="animated fadeIn">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header card_header_common">
                <div class="overall_css">
                  <span class="card_overall">{{lableConstant.Overall_request_Status}}</span>
                  <div class="cct_button_oversta">
                    <button class="btn btn-secondary" 
                    [routerLink]="['/dashboard/sct/view-complete-report']">
                      <i class="fa fa-bar-chart mr-1" aria-hidden="true "></i> 
                      {{lableConstant.View_all_activity_report}}
                    </button>
                    <button class="btn btn-primary ml-1" [routerLink]="['/dashboard/sct/create']">
                       {{lableConstant.New_Request}}
                    </button>
                  </div>
                </div>
              </div>
              <div class="card-body card_course_body">
                <div class="Course_icon_parent" data-aos="fade-right">
                  <div class="Course_icon_child">
                    <div class="alig_dashicon" (click)="getrecords(courseSessionStatus.draft)">
                      <div class="sub-child-dashicon">
                        <div class="fa-icons-des bac_blue">
                          <img src="../../../../assets/images/icon/drafts.png" />
                        </div>
                        <p>Draft</p>
                      </div>
                      <span class="number_css">0</span>
                    </div>
                  </div>
                  <!--coled-->
                  <div class="Course_icon_child" *ngIf="isStaff || getUserrole.includes(3)">
                    <div class="alig_dashicon" (click)="getrecords(courseSessionStatus.submitted)">
                      <div class="sub-child-dashicon">
                        <div class="fa-icons-des bac_puple">
                          <img src="../../../../assets/images/icon/closed.png" />
                        </div>
                        <p>Submitted</p>
                      </div>
                      <span class="number_css">0</span>
                    </div>
                  </div>
                  <!--coled-->
                  <div class="Course_icon_child" *ngIf="!isStaff  || getUserrole.includes(3) || getUserrole.includes(9)">
                    <div class="alig_dashicon" (click)="getrecords(courseSessionStatus.pending)">
                      <div class="sub-child-dashicon">
                        <div class="fa-icons-des bac_yellow">
                          <img src="../../../../assets/images/icon/pending.png" />
                        </div>
                        <p>Pending</p>
                      </div>
                      <span class="number_css">0</span>
                    </div>
                  </div>
                  
                  <!--coled-->
                  <div class="Course_icon_child">
                    <div class="alig_dashicon" (click)="getrecords(courseSessionStatus.closed)">
                      <div class="sub-child-dashicon">
                        <div class="fa-icons-des bac_green">
                          <img src="../../../../assets/images/icon/check.png" />
                        </div>
                        <p>Closed</p>
                      </div>
                      <span class="number_css">0</span>
                    </div>
                  </div>
                  <!--coled-->
                  <div class="Course_icon_child">
                    <div class="alig_dashicon" (click)="getrecords(courseSessionStatus.rejected)">
                      <div class="sub-child-dashicon">
                        <div class="fa-icons-des bac_pink">
                          <img src="../../../../assets/images/icon/reject.png" />
                        </div>
                        <p>Rejected</p>
                      </div>
                      <span class="number_css">0</span>
                    </div>
                  </div>
                  <!--coled-->
                  <div class="Course_icon_child">
                    <div class="alig_dashicon" (click)="getrecords(courseSessionStatus.total)">
                      <div class="sub-child-dashicon">
                        <div class="fa-icons-des bac_blue1">
                          <img src="../../../../assets/images/icon/viewall.png" />
                        </div>
                        <p>View All</p>
                      </div>
                      <span class="number_css">0</span>
                    </div>
                  </div>
                  <!--coled-->
                </div>
                <!--ROW END-->
              </div>
            </div>
          </div>
        </div>
        <!-- .animated -->
      </div>
      <!-- .content -->
    </div>
    <div class="content">
      <div class="animated fadeIn">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header card_header_common">
                <div class="overall_css">
                  <div>
                    <i class="fa fa-table fa_table" aria-hidden="true "></i>
                    <span class="card-title card-title-text card_overall">Quick View</span>
                  </div>
                
                  <div _ngcontent-cue-c109=" " class="form-group filter_course mr-0">
                    <label _ngcontent-cue-c109=" " class="label_course color-black ">{{lableConstant.Search}}</label>
                    <input type="text " name="search " autocomplete="off" [(ngModel)]="searchText"
                    placeholder="Type to Search"
                    class="form-control ng-untouched ng-pristine ng-valid form_width"
                    ng-reflect-name="search" />
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="table-responsive table_height_scroll">
                  <table id="bootstrap-data-table-export " class="table table-striped table-bordered">
                    <thead class="sticky_header">
                      <tr class="text-center fon_13">
                        <th sortable="request_id " (sort)="onSort($event)">
                         Requesd Id
                          <i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
                        <th sortable="user_name " (sort)="onSort($event)">
                        Name
                          <i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
  
                        <th sortable="title" (sort)="onSort($event)" class="corse_title">
                      Email Id<i class="fa fa-long-arrow-up arrow_css" aria-hidden="true"></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true"></i>
                        </th>
                        <th>
                         Total Request
                          <i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
                        <th sortable="created_at " (sort)="onSort($event)">
                          No of HRBP approved
                          <i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
                        <th sortable="updated_at " (sort)="onSort($event)">
                          Permission granted
                          <i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
                        <th sortable="updated_at " (sort)="onSort($event)">
                          Created date
                          <i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
                        <th sortable="updated_at " (sort)="onSort($event)">
                          Last modified date<i class="fa fa-long-arrow-up arrow_css" aria-hidden="true "></i>
                          <i class="fa fa-long-arrow-down arrow_css" aria-hidden="true "></i>
                        </th>
                        <th class="text-center">{{lableConstant.history}}</th>
                        <th class="text-center">{{lableConstant.Status}}</th>
                        <th class="text-center">{{lableConstant.actions}}</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let session of sessionListToView | filter: searchText  | paginate: { itemsPerPage: pagination.pageSize, currentPage: pagination.pageNumber }"
                        class="text-center bac_hover-table fon_12">
                        <td  class="re_id"></td>
                        <td>   </td>
                        <td  class="re_id"></td>
                        <td>   </td>
                        <td  class="re_id"></td>
                        <td>   </td>
                        <td  class="re_id"></td>
                       
                        <td  class="re_id"></td>
                      
                       
                        
                        <td>
                          <a *ngIf="session.status=='pending' || session.status=='publish' || session.status=='reject'"
                            (click)="openModal(session)" class="re_id">
                            {{lableConstant.view}}
                          </a>
                        </td>
                        <td class="text-center">
                          <span *ngIf="!session.status">
                            Pending
                          </span>
                          <p *ngIf="session.status" [ngClass]="session.status" class="text_yellow">
                            {{ session.status_new | titlecase }}
                          </p>
                        </td>
                        <td class="text-center">
                          <div class="status_med_di">
                            <a *ngIf="session.status=='pending' && isStaff" (click)="copyRequest(session.id)" class="copy_file mr-1"
                              data-toggle="tooltip" data-placement="top" title="Copy">
                              <i class="fa fa-files-o" aria-hidden="true"></i>
                            </a>
                            <a *ngIf="session.status=='draft'" (click)="editRequest(session)" class="copy_file mr-1"
                              data-toggle="tooltip" data-placement="top" title="Edit">
                              <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a>
                            <a *ngIf="session.status=='draft'" (click)="deleteRequest(session)" class="copy_file mr-1"
                              data-toggle="tooltip" data-placement="top" title="Delete">
                              <i class="fa fa-trash" aria-hidden="true"></i>
                            </a>
                            <a *ngIf="(session.status=='reject' && isStaff && session.user_id == getprofileDetails.data?.id ) || (getUserrole.includes(3) &&session.status === 'reject' && session.user_id === getprofileDetails.data.id)" (click)="editRequest(session)" class="copy_file mr-1"
                              data-toggle="tooltip" data-placement="top" title="Edit">
                              <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a>
                            <a class="copy_file mr-1" data-toggle="tooltip" (click)="getRequest(session)" data-placement="top" title="View">
                              <i class="fa fa-eye" aria-hidden="true"></i>
                            </a>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="table-responsive table_height_scroll">
                  <table id="bootstrap-data-table-export " class="table table-striped table-bordered">
                    <thead class="sticky_header_gold">
                      <tr class="text-center fon_13">
                        <th></th>
                        <th>Name of participants</th>
                        <th>Email addresses for participants</th>
                        <th>CUID/FTID</th>
                        <th>P1</th>
                        <th>Data scope</th>
                        <th>Data scope </th>
                        <th>HRBP email</th>
                        <th>Business justification   </th>
                        <th>HRBP status </th>
                        </tr>
                        </thead>
                        <tbody>
                          <tr class="text-center bac_hover-table fon_12">
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><p class="text_green">Approved</p></td>
  
                            </tr>
                            <tr class="text-center bac_hover-table fon_12">
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td><p class="text_red">Reject</p></td>
    
                              </tr>
                              <tr class="text-center bac_hover-table fon_12">
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td><p class="text_yellow">Pending</p></td>
      
                                </tr>
                          </tbody>
                        </table>
                        </div>
                <div class="pagiantio_dispaly">
                  <div class="pagintion_ child">
                    <p class="cm-pagination-fotter">{{showPaginationCount(((pagination.pageSize *
                      (pagination.pageNumber - 1)) + 1),
                      ((this.pagination.pageSize * this.pagination.pageNumber) >
                      this.sessionListToView?.length ? this.sessionListToView?.length :
                      this.pagination.pageSize * this.pagination.pageNumber),
                      this.sessionListToView?.length)}}</p>
                  </div>
                  <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- .animated -->
    </div>
  </div>